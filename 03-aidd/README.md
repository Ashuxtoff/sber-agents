# LLM-ассистент в Telegram

Простой LLM-ассистент в виде Telegram-бота, использующий OpenRouter API для генерации ответов с заданной ролью.

## Требования

- Python 3.11+
- [uv](https://github.com/astral-sh/uv) - менеджер зависимостей
- [make](https://www.gnu.org/software/make/) - для автоматизации команд

## Установка

1. Установите зависимости:
```bash
make install
```

или

```bash
uv sync
```

## Настройка

1. Создайте файл `.env` в корне проекта и добавьте следующие переменные:

```env
# Telegram
TELEGRAM_BOT_TOKEN=your_bot_token

# OpenRouter
OPENROUTER_API_KEY=your_api_key
OPENROUTER_MODEL=meta-llama/llama-3.1-8b-instruct:free
```

2. Получите токен Telegram-бота:
   - Откройте Telegram и найдите [@BotFather](https://t.me/BotFather)
   - Отправьте команду `/newbot`
   - Следуйте инструкциям и скопируйте полученный токен в `.env`

3. Получите API ключ OpenRouter:
   - Зарегистрируйтесь на [OpenRouter](https://openrouter.ai/)
   - Создайте API ключ в настройках
   - Скопируйте ключ в `.env`

4. Выберите модель:
   - Модель по умолчанию: `meta-llama/llama-3.1-8b-instruct:free`
   - Список доступных моделей: [OpenRouter Models](https://openrouter.ai/models)

## Запуск

```bash
make run
```

или

```bash
uv run python bot.py
```

После запуска вы увидите в консоли:
```
[START] Bot started
```

## Использование

1. Откройте Telegram и найдите вашего бота
2. Отправьте текстовое сообщение
3. Бот ответит согласно заданной роли (по умолчанию - профессиональная гадалка)

**Пример:**
- Вы: "Что меня ждет завтра?"
- Бот: [Ответ в стиле гадалки]

## Структура проекта

```
03-aidd/
├── bot.py          # весь код бота
├── .env            # конфигурация (не коммитится)
├── .gitignore      # игнорируемые файлы
├── pyproject.toml  # зависимости проекта
├── Makefile        # команды для запуска
└── README.md       # эта инструкция
```

## Особенности

- ✅ Весь код в одном файле `bot.py`
- ✅ Простая обработка ошибок с логированием
- ✅ Поддержка системного промпта для задания роли бота
- ✅ Логирование всех операций через `print()`

## Устранение неполадок

**Ошибка "Token is invalid!"**
- Проверьте, что токен Telegram правильно скопирован в `.env`
- Убедитесь, что в токене нет лишних пробелов

**Ошибка при вызове LLM**
- Проверьте правильность API ключа OpenRouter
- Убедитесь, что выбранная модель доступна
- Проверьте подключение к интернету

**Бот не отвечает**
- Проверьте логи в консоли на наличие ошибок
- Убедитесь, что бот запущен (`[START] Bot started` в консоли)

